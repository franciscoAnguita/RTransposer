<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RTransposer: example of usage (2) • RTransposer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RTransposer: example of usage (2)">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RTransposer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/UG_example_1.html">RTransposer: ejemplo de uso (1)</a>
    </li>
    <li>
      <a href="../articles/UG_example_2.html">RTransposer: example of usage (2)</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>RTransposer: example of usage (2)</h1>
                        <h4 class="author">Viciana, F; Paiva,D</h4>
            
            <h4 class="date">2019-02-06</h4>
      
      
      <div class="hidden name"><code>UG_example_2.Rmd</code></div>

    </div>

    
    
<p>It shows how to use <a href="https://www.r-project.org/">R</a> and <strong>RTransposer</strong> package to import the example (2) provided by <a href="https://github.com/ICPSR/IDS">Alter in the “Transposer” package repository</a></p>
<div id="source-file-preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#source-file-preparation" class="anchor"></a>Source file preparation</h2>
<p>Downloading the data from github repository: ICPSR/IDS corresponding to example 2 (UG_example_2) and uncompress the excel file <em>UG_Example_2_v10.xlsx</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(RTransposer)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">require</a></span>(data.table) 
<span class="co">#&gt; Loading required package: data.table</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">require</a></span>(readxl)     
<span class="co">#&gt; Loading required package: readxl</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rm">rm</a></span>(<span class="dt">list =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/ls">ls</a></span>())     

tmpLoc &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>() ; <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(tmpLoc)  <span class="co"># creation of a temporary folder for files used and produced in this script</span>
<span class="co">#&gt; [1] "C:\\Users\\user\\AppData\\Local\\Temp\\RtmpCy1JPI"</span>
## Download and uncompress
zipfile &lt;-<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(tmpLoc,<span class="st">'/UG_example_2.zip'</span>)

<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/download.file">download.file</a></span>(<span class="st">'https://github.com/ICPSR/IDS/raw/master/User_Guide/UG_example_2.zip'</span>, 
              <span class="dt">destfile =</span> zipfile )
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/unzip">unzip</a></span>(zipfile,<span class="dt">list =</span> T)  
<span class="co">#&gt;                    Name Length                Date</span>
<span class="co">#&gt; 1      births_input.csv  33969 2014-12-31 06:47:00</span>
<span class="co">#&gt; 2      deaths_input.csv  10272 2014-12-31 07:03:00</span>
<span class="co">#&gt; 3        entity_ex2.csv   2708 2017-02-25 19:17:00</span>
<span class="co">#&gt; 4   marriages_input.csv   9686 2014-12-31 06:46:00</span>
<span class="co">#&gt; 5      places_input.csv   4337 2014-12-31 10:49:00</span>
<span class="co">#&gt; 6            ReadMe.txt    634 2017-02-25 19:18:00</span>
<span class="co">#&gt; 7  relationship_ex2.csv   1436 2017-02-25 19:14:00</span>
<span class="co">#&gt; 8 UG_Example_2_v10.xlsx 455735 2017-02-25 19:17:00</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/unzip">unzip</a></span>(zipfile,<span class="dt">files =</span> <span class="st">'UG_Example_2_v10.xlsx'</span>,  <span class="dt">exdir =</span>  tmpLoc )  
xfile &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(tmpLoc,<span class="st">'/UG_Example_2_v10.xlsx'</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files">file.remove</a></span>(zipfile)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>Data exrtraction from <em>parent</em> and <em>children</em> sheets, storage in a <em>data.table</em> type object and creation of some auxiliary/imput tables derived from these two source tables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">as.data.table</span>(<span class="kw">read_xlsx</span>(xfile, <span class="dt">sheet =</span> <span class="st">'parents'</span>))  -&gt;<span class="st"> </span>parents
<span class="kw">as.data.table</span>(<span class="kw">read_xlsx</span>(xfile, <span class="dt">sheet =</span> <span class="st">'children'</span>)) -&gt;<span class="st"> </span>children

<span class="co">#------------------------------------</span>
<span class="co"># Create INPUT tables derived from primaries (if necessary)  # in this case are 4, by sources (births, deaths, marriages) plus places</span>
<span class="co">#------------------------------------</span>
<span class="co"># places</span>
names.loc  &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(parents)[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">grep</a></span>(<span class="st">"loc"</span>,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(parents))]
names.loc  &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">'c('</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(names.loc, <span class="dt">collapse =</span> <span class="st">', '</span>),<span class="st">', children$birthloc )'</span>)
places &lt;-<span class="st"> </span>parents[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sort">sort</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unique">unique</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/eval">eval</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/parse">parse</a></span>(<span class="dt">text=</span>names.loc))))]

places_input&lt;-<span class="st"> </span><span class="kw">data.table</span>(
  <span class="dt">place  =</span> places,
  <span class="dt">placeid =</span> 1L<span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(places)<span class="op">+</span>100L,
  <span class="dt">level  =</span>  <span class="st">"Neighborhood"</span>,
  <span class="dt">nested =</span> 100L,
  <span class="dt">relvar =</span> <span class="st">"Neighborhood and Municipality"</span>
)
  <span class="co"># append tow end register</span>
places_input &lt;-<span class="st">   </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">rbind</a></span>(places_input,
                        <span class="kw">data.table</span>(  <span class="dt">place =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"California"</span>,<span class="st">"Los Angeles"</span>),
                                     <span class="dt">placeid =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(1L,100L),
                                     <span class="dt">level  =</span>  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"State"</span>,<span class="st">"Municipality"</span>),
                                     <span class="dt">nested =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="ot">NA</span>,1L),
                                     <span class="dt">relvar =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">""</span>,<span class="st">"Municipality and State"</span>)))

<span class="co"># marriages</span>
parents[,.(parid,hfirst,hlast,wfirst,wlast,hocc,wocc,<span class="dt">hid=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">1</span>,<span class="dt">wid=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">2</span>,marriage,marrloc)]  -&gt;<span class="st"> </span>marriages_input

<span class="co"># deaths</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">rbind</a></span>(parents[,.(<span class="dt">idi=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">1</span>,<span class="dt">fname=</span>hfirst,<span class="dt">lname=</span>hlast,<span class="dt">death=</span>hdeath,<span class="dt">deathloc=</span>hdeathloc)],
      parents[,.(<span class="dt">idi=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">2</span>,<span class="dt">fname=</span>wfirst,<span class="dt">lname=</span>wlast,<span class="dt">death=</span>wdeath,<span class="dt">deathloc=</span>wdeathloc)]) -&gt;<span class="st"> </span>deaths_input

<span class="co"># births</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">rbind</a></span>(parents[,.(<span class="dt">kidid=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">1</span>,<span class="dt">fname=</span>hfirst,<span class="dt">lname=</span>hlast,<span class="dt">dadid=</span><span class="ot">NA</span>,<span class="dt">momid=</span><span class="ot">NA</span>,<span class="dt">birth=</span>hbirth,<span class="dt">birthloc=</span>hbirthloc)],
      parents[,.(<span class="dt">kidid=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">2</span>,<span class="dt">fname=</span>wfirst,<span class="dt">lname=</span>wlast,<span class="dt">dadid=</span><span class="ot">NA</span>,<span class="dt">momid=</span><span class="ot">NA</span>,<span class="dt">birth=</span>wbirth,<span class="dt">birthloc=</span>wbirthloc)],
      parents[,.(parid,<span class="dt">lname=</span>hlast)][
        children[,
                 .(<span class="dt">fname=</span>name,birth, birthloc, <span class="dt">kidid=</span> parid<span class="op">*</span><span class="dv">1000</span><span class="op">+</span><span class="dv">1</span><span class="op">:</span>.N,
                   <span class="dt">momid=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">2</span>,
                   <span class="dt">dadid=</span>parid<span class="op">*</span><span class="dv">10</span><span class="op">+</span><span class="dv">1</span>),
                 <span class="dt">keyby=</span>.(parid)], <span class="dt">on=</span><span class="st">'parid'</span>][,.(kidid,fname,lname,dadid,momid,birth,birthloc)]) -&gt;<span class="st"> </span>births_input</code></pre></div>
<p>If necessary, functions should be created to aid with the input, by transforming the original data stored in the source table; in this case it is created a function to convert geographic names (strings) into codes (integers):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">###-------------------------------------------------------------------------
###  auxiliary functions for ValueExpresion
###-------------------------------------------------------------------------
<span class="co">#' MunicipalityName2Code</span>
<span class="co">#'    Input of a vector of municipality names and output of numeric codes</span>
<span class="co">#'    contained in the table </span>
<span class="co">#'    @param mun.names vector con nombre</span>
<span class="co">#'    @tab.codes  data.table with names and codes</span>
MunicipalityName2Code &lt;-<span class="st"> </span><span class="cf">function</span> ( mun.names, <span class="dt">tab.codes =</span> places_input, 
                                    <span class="dt">geo.names=</span><span class="st">'places'</span> ,<span class="dt">geo.codes =</span><span class="st">'placeid'</span> ) {
   tab.codes[[geo.codes]] -&gt;<span class="st"> </span>codes
   <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(codes) &lt;-<span class="st"> </span>tab.codes[[geo.names]]
   <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(codes[mun.names])
}</code></pre></div>
</div>
<div id="specifications-of-the-import-rules" class="section level2">
<h2 class="hasAnchor">
<a href="#specifications-of-the-import-rules" class="anchor"></a>Specifications of the import rules</h2>
<p>The transformations applied to the variables in the source files are defined in a excel book with a specific structure (an example of this book can be found in the package’s <em>inst/extdata/</em> folder) to obtain the records that compose the IDS.</p>
</div>
<div id="generating-the-database-in-ids-format" class="section level2">
<h2 class="hasAnchor">
<a href="#generating-the-database-in-ids-format" class="anchor"></a>Generating the database in IDS format</h2>
<p>The <em>TRtransposer::tranposer</em> is applied, having as parameter the name of the <a href="https://github.com/viciana/RTransposer/raw/master/inst/extdata/ERD_UG_Example_2_v10.xlsx">excel file</a> with the diferent transformations to be applied over the data tables, previously loaded in R’s global enviroment (*.GlobalEnv).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##--------------------------------------------------------------------------
## Transposer with rules to import in  EntityRelationDefinition01.xlsx
<span class="kw"><a href="../reference/transposer.html">transposer</a></span>(<span class="dt">file.definition =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"extdata"</span>, 
                                        <span class="st">"ERD_UG_Example_2_v10.xlsx"</span>, 
                                        <span class="dt">package =</span> <span class="st">"RTransposer"</span>) ) -&gt;<span class="st"> </span>outcomes</code></pre></div>
<p>By running the previous code a list is produced containing 5 <em>data.table</em> type objects with the IDS specific names and structure.</p>
<p>From this list it is possible to get the 5 tables in .CSV file, that can be easily read by statistical analysis base softwares.</p>
<p>The following exports these tables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">### Statistical summary of outcomes::
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="st">'== INDIVIDUAL == '</span>)) ;  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(outcomes<span class="op">$</span>INDIVIDUAL[,.N,<span class="dt">keyby=</span>Type])
<span class="co">#&gt; [1] "== INDIVIDUAL == "</span>
<span class="co">#&gt;                  Type   N</span>
<span class="co">#&gt;  1:        BIRTH_DATE 565</span>
<span class="co">#&gt;  2:    BIRTH_LOCATION 565</span>
<span class="co">#&gt;  3:        DEATH_DATE 200</span>
<span class="co">#&gt;  4:    DEATH_LOCATION 200</span>
<span class="co">#&gt;  5:        FIRST_NAME 965</span>
<span class="co">#&gt;  6:         LAST_NAME 965</span>
<span class="co">#&gt;  7:     MARRIAGE_DATE 200</span>
<span class="co">#&gt;  8: MARRIAGE_LOCATION 200</span>
<span class="co">#&gt;  9:        OCCUPATION 200</span>
<span class="co">#&gt; 10:               SEX 200</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="st">'== CONTEXT == '</span>)); <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(outcomes<span class="op">$</span>CONTEXT[,.N,<span class="dt">keyby=</span>Type])
<span class="co">#&gt; [1] "== CONTEXT == "</span>
<span class="co">#&gt;     Type  N</span>
<span class="co">#&gt; 1: LEVEL 74</span>
<span class="co">#&gt; 2:  NAME 74</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="st">'== INDIV_INDIV == '</span>)); <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(outcomes<span class="op">$</span>INDIV_INDIV[,.N,<span class="dt">keyby=</span>Relation])
<span class="co">#&gt; [1] "== INDIV_INDIV == "</span>
<span class="co">#&gt;    Relation   N</span>
<span class="co">#&gt; 1:    Child 730</span>
<span class="co">#&gt; 2:   Father 365</span>
<span class="co">#&gt; 3:  Husband 100</span>
<span class="co">#&gt; 4:   Mother 365</span>
<span class="co">#&gt; 5:     Wife 100</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="st">'==  INDIV_CONTEXT == '</span>)); <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(outcomes<span class="op">$</span>INDIV_CONTEXT[,.N,<span class="dt">keyby=</span>Relation])
<span class="co">#&gt; [1] "==  INDIV_CONTEXT == "</span>
<span class="co">#&gt;    Relation   N</span>
<span class="co">#&gt; 1:     &lt;NA&gt; 965</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="st">'==  CONTEXT_CONTEXT == '</span>)); <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(outcomes<span class="op">$</span>CONTEXT_CONTEXT[,.N,<span class="dt">keyby=</span>Relation])
<span class="co">#&gt; [1] "==  CONTEXT_CONTEXT == "</span>
<span class="co">#&gt;                         Relation  N</span>
<span class="co">#&gt; 1:        Municipality and State  1</span>
<span class="co">#&gt; 2: Neighborhood and Municipality 72</span>

## Storages the outcomes in CSV tables
<span class="cf">for</span> (i <span class="cf">in</span>  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(outcomes)) {
  <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/write.table">write.csv</a></span>(outcomes[[i]],<span class="dt">file=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(tmpLoc,<span class="st">'/'</span>,i,<span class="st">'.CSV'</span>),<span class="dt">na=</span><span class="st">''</span>,<span class="dt">row.names=</span><span class="ot">FALSE</span>)
}
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(tmpLoc)
<span class="co">#&gt; [1] "C:\\Users\\user\\AppData\\Local\\Temp\\RtmpCy1JPI"</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list.files">dir</a></span>(<span class="dt">path =</span> tmpLoc,<span class="dt">pattern =</span> <span class="st">'*.CSV'</span>)
<span class="co">#&gt; [1] "CONTEXT.CSV"         "CONTEXT_CONTEXT.CSV" "INDIV_CONTEXT.CSV"  </span>
<span class="co">#&gt; [4] "INDIV_INDIV.CSV"     "INDIVIDUAL.CSV"</span></code></pre></div>
<p>Eliminates used temporary files</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files">file.remove</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(tmpLoc,<span class="st">'/'</span>,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(outcomes),<span class="st">'.CSV'</span>))
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files">file.remove</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(tmpLoc,<span class="st">'/'</span>,<span class="st">'UG_Example_2_v10.xlsx'</span>))</code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#source-file-preparation">Source file preparation</a></li>
      <li><a href="#specifications-of-the-import-rules">Specifications of the import rules</a></li>
      <li><a href="#generating-the-database-in-ids-format">Generating the database in IDS format</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Francisco J Viciana, Diogo Paiva.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
